(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68592],{62301:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{getErrorRenderer:function(){return oe},getPreloaderRenderer:function(){return ie},getReceiptRenderer:function(){return ae}});var i={};n.r(i),n.d(i,{getErrorRenderer:function(){return oe},getPreloaderRenderer:function(){return ie},getReceiptRenderer:function(){return ce}});var a={};n.r(a),n.d(a,{inline:function(){return i},voucher:function(){return r}});var o=n(14269),c=n(69154),s=n(24225),l=n(59172),u=n(64555),d=n(65106),f=n(26739),v=n(31172),p=n(36258),h=".js-candy-mock",m=[".b-media-cont_type_banner-text",".b-media-cont_type_banner-text-vertical",".b-media-cont_type_banner-text-small",".b-media-cont_type_banner-text-mega"].map((function(e){return"".concat(e,":not(").concat(h,")")})).join(", "),g=function(e){var t=e.dataset;Object.keys(t).forEach((function(e){return delete t[e]}))},y=function(){for(var e=document.querySelectorAll(".js-removable-candy-wrapper"),t=0,n=e.length;t<n;t++){var r=e[t];null===r.querySelector(m)&&r.parentElement.removeChild(r)}};function b(e){for(var t=e;t&&!t.classList.contains(".js-removable-candy-wrapper");)t=t.parentElement;t&&(t.display="")}var _=n(12746),w=function(e){if(void 0!==e&&e.stopPropagation(),!document.querySelector("[data-overlay-disabled]")){var t=document.querySelector("[data-tooltip-overlay]");t&&(t.style.display="none")}var n=document.querySelector('[data-tooltip-is-open="true"]');if(n){n.style.display="none",n.dataset.tooltipIsOpen="false";for(var r=n.parentElement;r&&!r.classList.contains("b-tip");)r=r.parentElement;r.style.zIndex="2"}};function k(e){e.preventDefault(),e.stopPropagation(),w();var t=document.body,n=e.currentTarget,r=n.querySelector(".b-tip__hidden-item"),i=document.querySelector("[data-overlay-disabled]");if(r){if(i)r.addEventListener("click",w);else{var a=document.querySelector("[data-tooltip-overlay]");a||((a=document.createElement("div")).style.position="fixed",a.style.width="100%",a.style.height="100%",a.style.top="0",a.style.left="0",a.style.zIndex="2",a.dataset.tooltipOverlay="",t.appendChild(a),a.addEventListener("click",w)),a.style.display="block"}r.style.display="block",n.style.zIndex="3",r.dataset.tooltipIsOpen="true"}}var E=n(66527),L=n(54210),S=n(75295),O=n.n(S),x=n(59500),Z=n(60092),C="https://www.drom.ru/process_ajax_request.php?mode=get_email",T=function(e){return e.toLowerCase().replace(/^on/g,"")};function A(){return(A=(0,L.Z)(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)();case 2:if(t=document.querySelectorAll("[data-drom-email]")){e.next=5;break}return e.abrupt("return");case 5:t.forEach((function(e){var t={},n=e.dataset;if(n&&n.dromEmail){try{t=JSON.parse(n.dromEmail)}catch(e){return}var r=t,i=r.data,a=r.event,o=r.text,c=(0,E.Z)(i,3),s=c[0],l=c[1],u=c[2],d=T(a),f=document.createElement("span"),v="";l&&u?v="".concat(C,"&m1=").concat(s,"&m2=").concat(l,"&m3=").concat(u):s&&(v="".concat(C,"&m1=").concat(s)),f.className="b-link b-link_dashed",f.innerText=o;var p=function(){var t=(0,L.Z)(O().mark((function t(){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(v,{credentials:"same-origin"}).then((function(e){return e.json()})).catch((0,Z.Z)());case 2:(n=t.sent)&&n.out&&(e.innerHTML=n.out),f.removeEventListener(d,p);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();f.addEventListener(d,p),e.appendChild(f)}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P="[data-launch-video]",j=function(e){window.history&&window.history.pushState&&window.history.replaceState(void 0,void 0,e)},B=n(74765),D=n(74963),q=n(41341),H=n(15145),R=n(4192),N=n(66691),I=function(){function e(){(0,R.Z)(this,e)}return(0,N.Z)(e,[{key:"handleMutation",value:function(e){}},{key:"updateBFCacheValue",value:function(){}}]),e}(),M=function(){function e(){var t=this;(0,R.Z)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(e){if(!(e.prototype instanceof I))throw new Error("Class ".concat(e.name," must inherit from Control"))})),this.controls=r.map((function(e){return new e}));var a=document.querySelector("[data-drom-new-form-loader]"),o=document.querySelector("[data-drom-new-form-content]");a&&o&&(a.style.display="none",o.style.display=""),this._attachObserver(),window.addEventListener("pageshow",(function(){t.controls.forEach((function(e){return e.updateBFCacheValue()}))}))}return(0,N.Z)(e,[{key:"_attachObserver",value:function(){var e=this,t=window.MutationObserver||window.WebkitMutationObserver;void 0!==t&&new t((function(t){for(var n=0,r=t.length;n<r;n++)for(var i=0,a=e.controls.length;i<a;i++)e.controls[i].handleMutation(t[n])})).observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}}]),e}(),z=n(60463),F=n(42722),U=n(3797),V=n(12831),W=n(95696),G=n.n(W),J=n(2532),Y=n(83925);var K=(0,J.Z)(),Q=function(e){(0,F.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var i=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,U.Z)(this,e)});function i(){var e;(0,R.Z)(this,i),e=r.call(this);for(var t=document.querySelectorAll("[data-drom-select]"),n=0,a=t.length;n<a;n++)i.init(t[n]);return document.addEventListener("click",i.clearFocusHandler),window.addEventListener("scroll",i.setDropdownPosition),window.addEventListener("resize",i.setDropdownPosition),e}return(0,N.Z)(i,[{key:"handleMutation",value:function(e){if("OPTION"===e.target.tagName&&"attributes"===e.type&&i.setOptions(e.target.parentElement),"SELECT"===e.target.tagName&&void 0!==e.target.dataset.dromSelect)switch(e.type){case"childList":i.setOptions(e.target),i.setText(e.target);break;case"attributes":i.refreshLoadingState(e.target),i.toggleDisableState(e.target),"value"in e.target.dataset&&!K&&i.changeValue(e.target)}else for(var t=0,n=e.addedNodes.length;t<n;t++){var r=e.addedNodes[t];if("SELECT"===r.tagName&&void 0!==r.dataset.dromSelect)i.init(r);else if(r.getElementsByTagName)for(var a=r.getElementsByTagName("select"),o=0,c=a.length;o<c;o++){var s=a[o];void 0!==s.dataset.dromSelect&&i.init(s)}}}},{key:"updateBFCacheValue",value:function(){document.querySelectorAll("[data-drom-select]").forEach((function(e){var t=[];if((0,z.Z)(e.options).forEach((function(e){e.selected&&!e.defaultSelected&&e.value&&t.push(e.value)})),t.length>0){for(var n=e.parentElement;n&&!n.classList.contains("f-select");)n=n.parentElement;t.forEach((function(e){if(!n.children[1].querySelector('.f-select__dropdown-item[data-value="'.concat(e,'"].active'))){var t=n.children[1].querySelector('.f-select__dropdown-item[data-value="'.concat(e,'"]'));t&&t.classList.add("active")}})),i.setText(e),e.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}))}}],[{key:"init",value:function(e){for(var t=e.parentElement;t&&!t.classList.contains("f-select");)t=t.parentElement;if(!t){var n=e.dataset.placeholder||"",r=document.createElement("div");r.classList.add("f-select__hidden"),e.insertAdjacentElement("beforebegin",r),r.appendChild(e),(t=document.createElement("div")).classList.add("f-select"),""!==e.className&&e.className.split(" ").forEach((function(e){return t.classList.add(e)})),r.insertAdjacentElement("beforebegin",t),t.appendChild(r),t.insertAdjacentHTML("afterbegin",'<div class="f-select__dropdown" data-select-dropdown></div>'),t.insertAdjacentHTML("afterbegin",'<div class="f-select__box"></div>');var a=t.children[0];a.insertAdjacentHTML("beforeend",'<button type="button" class="f-input__input f-input__input_placeholder">'.concat(n,"</button>")),a.insertAdjacentHTML("beforeend",'<input type="text" placeholder="'.concat(n,'" data-input-type="select" class="f-input__input" />')),a.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" class="f-select__arrow" viewBox="0 0 10 5.707"><path fill="none" stroke="'.concat(Y.O9.textSecondary,'" stroke-linecap="round" d="M.5.5L5 5 9.5.5"/></svg>')),a.insertAdjacentHTML("beforeend",'\n                    <div class="f-select__loader">\n                        <div class="b-load-spinner b-load-spinner_inline-slick f-select__spinner"></div>\n                    </div>\n                '),i.setOptions(e)}K&&(e.parentElement.style.display="initial",e.parentElement.style.position="absolute",e.parentElement.style.opacity="0",e.parentElement.style.top="0",e.parentElement.style.right="0",e.parentElement.style.bottom="0",e.parentElement.style.left="0",e.parentElement.style.zIndex="13",e.style.width="100%",e.style.height="100%"),i.setText(e),i.toggleDisableState(e),i.refreshLoadingState(e),i.addHandlers(e)}},{key:"setOptions",value:function(e){for(var t=e.parentElement;t&&!t.classList.contains("f-select");)t=t.parentElement;if(t){for(var n=t.children[1],r="",a=0,o=e.children.length;a<o;a++){var c=e.children[a];r=i.getOptString(r,c,0===a&&""===c.value,e.dataset.emptyValue)}n.innerHTML=r}}},{key:"setText",value:function(e){for(var t=e.parentElement;t&&!t.classList.contains("f-select");)t=t.parentElement;if(t){for(var n=t.children[0],r=e.dataset.placeholder||"",i=r,a=[],o=t.querySelectorAll(".f-select__dropdown-item.active"),c=0,s=o.length;c<s;c++){var l=o[c];a.push(l.dataset.value),0===c&&(i=l.dataset.title||l.textContent)}var u=n.querySelector("button.f-input__input");a.length?u.classList.remove("f-input__input_placeholder"):u.classList.add("f-input__input_placeholder"),a.length>1&&(i+=" и еще ".concat(a.length-1)),i!==r&&e.dataset.cur&&(i="".concat(i," ").concat(e.dataset.cur)),u.textContent=i,n.querySelector("input.f-input__input").value=i}}},{key:"findDromSelect",value:function(e){for(var t=e.parentElement;t&&!t.classList.contains("f-select");)t=t.parentElement;return t}},{key:"toggleDisableState",value:function(e){var t=i.findDromSelect(e);t&&(e.disabled?t.classList.add("f-select_disabled"):t.classList.remove("f-select_disabled"),t.children[0].children[0].disabled=e.disabled,t.children[0].children[1].disabled=e.disabled)}},{key:"refreshLoadingState",value:function(e){var t=i.findDromSelect(e);t&&(null!=e.dataset.loading?t.classList.add("f-select_loading"):t.classList.remove("f-select_loading"))}},{key:"addHandlers",value:function(e){for(var t=e.parentElement;t&&!t.classList.contains("f-select");)t=t.parentElement;t&&(e.addEventListener("change",i.changeHandler),K||(t.addEventListener("click",i.clickHandler),t.addEventListener("keydown",i.keydownHandler)))}},{key:"getOptString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=e;if("OPTGROUP"===t.tagName){if(""===t.label.replace(/-/gi,"")?a+='<div class="f-select__dropdown-divider"></div>':a+='<div class="f-select__dropdown-label">'.concat(t.label,"</div>"),t.children.length)for(var o=0,c=t.children.length;o<c;o++)a=i.getOptString(e,t.children[o])}else{var s=n&&r,l=s?r:t.textContent,u={class:G()("f-select__dropdown-item",{"f-select_empty":s}),"data-value":t.value},d=t.getAttribute("style");d&&(u.style=d),t.dataset&&t.dataset.title&&(u["data-title"]=t.dataset.title),n?u["data-clear"]=!0:t.selected&&(u.class+=" active"),t.disabled&&(u.class+=" disabled");var f=Object.keys(u).map((function(e){return"".concat(e,'="').concat(u[e],'"')})).join(" "),v=s?'<span class="f-input__reset"></span>':"";a+="<div ".concat(f,">").concat(v).concat(l,"</div>"),n&&(a+='<div class="f-select__dropdown-divider"></div>')}return a}},{key:"changeHandler",value:function(e){for(var t=e.currentTarget,n=t.parentElement;n&&!n.classList.contains("f-select");)n=n.parentElement;for(var r=n.children[1].querySelectorAll(".f-select__dropdown-item"),a=0,o=t.options.length;a<o;a++)t.options[a].selected&&void 0===r[a].dataset.clear?r[a].classList.add("active"):r[a].classList.remove("active");i.setText(t)}},{key:"changeValue",value:function(e){e.value=e.dataset.value||"";var t=new CustomEvent("change",{bubbles:!0});e.dispatchEvent(t)}},{key:"clickHandler",value:function(e){var t=e.currentTarget,n=t.children[2].children[0];if(n.disabled)return e.stopPropagation(),void e.preventDefault();if(!t.classList.contains("f-select_focus"))return t.classList.add("f-select_focus"),i.clearFocusHandler(e),void i.setDropdownPosition();for(var r=e.target,a=t.children[0];r&&r!==a&&r!==t&&(!r.classList||!r.classList.contains("f-select__dropdown-item"));)r=r.parentElement;if(r){if(r.classList.contains("f-select__dropdown-item")){if(r.classList.contains("disabled"))return;if(void 0!==r.dataset.clear)n.value="",t.classList.remove("f-select_focus");else if(n.multiple){for(var o=n.options[0],c=0;o&&o.value!==r.dataset.value;)c++,o=n.options[c];o.selected=!r.classList.contains("active")}else n.value=r.dataset.value,t.search||t.classList.remove("f-select_focus");var s=new CustomEvent("change",{bubbles:!0});n.dispatchEvent(s)}r===a&&t.classList.remove("f-select_focus")}}},{key:"keydownHandler",value:function(e){var t=e.currentTarget;if(e.key&&!(e.key.length>1)){clearTimeout(t.tid),t.search?t.search+=e.key:t.search=e.key;var n=new RegExp("^".concat(t.search),"i");t.tid=setTimeout((function(){t.search=""}),500);var r=(0,z.Z)(t.children[1].querySelectorAll(".f-select__dropdown-item")).filter((function(e){return e.textContent&&n.test(e.textContent)}));r.length&&(r[0].scrollIntoView(),r[0].click())}}},{key:"setDropdownPosition",value:function(){var e=document.querySelector(".f-select_focus:not(.f-select_react)");if(e){var t=e.children[1];if(t){var n=e.getBoundingClientRect();t.style.top="".concat(n.top+40,"px"),t.style.left="".concat(n.left,"px"),t.style.minWidth="".concat(n.width,"px"),t.scrollTop=0}}}},{key:"clearFocusHandler",value:function(e){var t=document.querySelectorAll(".f-select_focus:not(.f-select_react)");if(t.length){for(var n=e.target;n&&(!n.classList||!n.classList.contains("f-select_focus"));)n=n.parentElement;for(var r=0,i=t.length;r<i;r++)t[r]===n?t[r].classList.add("f-select_focus"):t[r].classList.remove("f-select_focus")}}}]),i}(I);var X=function(e){(0,F.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var i=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,U.Z)(this,e)});function i(){var e;(0,R.Z)(this,i),e=r.call(this);for(var t=document.querySelectorAll("[data-f-input]"),n=0,a=t.length;n<a;n++)i.addHandlers(t[n]);return e}return(0,N.Z)(i,[{key:"handleMutation",value:function(e){if("childList"===e.type&&e.target.classList&&e.target.classList.contains("f-input"))i.addHandlers(e.target.querySelector(".f-input__input"));else for(var t=0,n=e.addedNodes.length;t<n;t++){var r=e.addedNodes[t];if("childList"===r.type&&r.classList.contains("f-input"))i.addHandlers(r.querySelector(".f-input__input"));else if(r.getElementsByTagName)for(var a=r.getElementsByTagName("input"),o=0,c=a.length;o<c;o++){var s=a[o];s.parentElement&&s.parentElement.classList.contains("f-input")&&s.classList.contains("f-input__input")&&i.addHandlers(s)}}}},{key:"updateBFCacheValue",value:function(){for(var e=document.querySelectorAll("[data-f-input]"),t=0,n=e.length;t<n;t++){var r=e[t];r.value&&(r.parentElement.classList.add("f-input_del"),r.dataset.cur&&(r.value=i.strToNumber(r.value,r.dataset.cur)))}}}],[{key:"addHandlers",value:function(e){e.addEventListener("focus",i.focusHandler),e.addEventListener("blur",i.blurHandler),e.addEventListener("input",i.inputHandler);var t=e.parentElement.querySelector("[data-f-input-reset]");t&&t.addEventListener("click",i.resetHandler),e.form&&e.form.addEventListener("submit",i.submitHandler)}},{key:"focusHandler",value:function(e){e.currentTarget.parentElement.classList.add("f-input_focus")}},{key:"blurHandler",value:function(e){e.currentTarget.parentElement.classList.remove("f-input_focus")}},{key:"inputHandler",value:function(e){var t=e.currentTarget;if(t.value){if(t.dataset.cur){var n=t.selectionEnd,r=t.value.replace(/\S/g,"");t.value=i.strToNumber(t.value,t.dataset.cur),n+=t.value.replace(/\S/g,"").length-r.length,t.setSelectionRange(n,n)}i.moveCaret(t),t.value?t.parentElement.classList.add("f-input_del"):t.parentElement.classList.remove("f-input_del")}else t.parentElement.classList.remove("f-input_del")}},{key:"resetHandler",value:function(e){e.preventDefault();var t=e.currentTarget.parentElement.querySelector(".f-input__input");t.value="",t.parentElement.classList.remove("f-input_del");var n=new CustomEvent("change",{bubbles:!0});t.dispatchEvent(n)}},{key:"submitHandler",value:function(e){for(var t=e.currentTarget,n=0,r=t.elements.length;n<r;n++){var a=t.elements[n];if(a.value&&a.dataset.cur){var o=i.clearCur(a.value,a.dataset.cur);o=o.replace(/\s/g,"").replace(/[.,]$/,""),a.value=o}}}},{key:"clearCur",value:function(e,t){return e.replace(" ".concat(t),"")}},{key:"moveCaret",value:function(e){if(e.dataset.cur){var t=e.selectionEnd,n=e.dataset.cur.length+1;t>e.value.length-n&&(t=e.value.length-n),t<0&&(t=0),e.setSelectionRange(t,t)}}},{key:"strToNumber",value:function(e,t){var n=i.clearCur(e,t),r=n=n.replace(/\s{2,}/g," ").replace(/\.{2,}/g,".").replace(/,{2,}/g,",").replace(/[^\d\s.,]/gi,""),a=n.replace(",",".").replace(/\s/g,"");return n=parseFloat(a),isNaN(n)||a!==n.toString()||"undefined"==typeof Intl||(r=new Intl.NumberFormat("ru-RU").format(n)),a.length<=1&&isNaN(n)?r="":r+=" ".concat(t),r}}]),i}(I);var ee=function(e){(0,F.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,V.Z)(t);if(n){var i=(0,V.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,U.Z)(this,e)});function i(){var e;(0,R.Z)(this,i),e=r.call(this);for(var t=document.querySelectorAll("[data-button-group] .f-button"),n=0,a=t.length;n<a;n++)t[n].addEventListener("click",i.addButtonGroupHandler);return e}return(0,N.Z)(i,[{key:"handleMutation",value:function(e){if("childList"===e.type&&void 0!==e.target.dataset.buttonGroup)for(var t=e.target.querySelectorAll(".f-button"),n=0,r=t.length;n<r;n++)t[n].addEventListener("click",i.addButtonGroupHandler)}},{key:"updateBFCacheValue",value:function(){for(var e=document.querySelectorAll("[data-button-group]"),t=0,n=e.length;t<n;t++){var r=e[t].querySelector(".f-button");if(r&&r.dataset.name){var i=document.querySelector('[name="'.concat(r.dataset.name,'"]'));if(i&&i.value){var a=e[t].querySelector('.f-button[data-value="'.concat(i.value,'"]'));a&&!a.classList.contains("f-button_active")&&a.dispatchEvent(new CustomEvent("click"))}}}}}],[{key:"addButtonGroupHandler",value:function(e){e.preventDefault();for(var t=e.currentTarget,n=t.parentElement;n&&void 0===n.dataset.buttonGroup;)n=n.parentElement;if(n){var r=n.querySelector(".f-button_active");if(r&&r.classList.remove("f-button_active"),t.classList.add("f-button_active"),t.dataset.name){var i=document.querySelector('[name="'.concat(t.dataset.name,'"]'));if(i){i.setAttribute("value",t.dataset.value);var a=new CustomEvent("change",{bubbles:!0});i.dispatchEvent(a)}}}}}]),i}(I),te=n(4702),ne=function(e,t,n,r,i){var a=(0,te.ZP)(r,i,(function(e){return e&&e.status&&e.data&&e.data.isReceiptCompleted}));return function(r){var i=new FormData;return i.append("paymentData",r),e(),a("https://auto.drom.ru/ajax/?mode=check_fiscal_receipt&crossdomain_ajax_request=3",{method:"POST",body:i,credentials:"same-origin"}).then((function(e){t({number:e.data.receiptNumber,time:1e3*e.data.processedAt})})).catch((function(){n({text:"Ошибка получения электронного чека"})}))}};function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=new Date(e),r=function(e){return e<10?"0".concat(e):e},i=r(n.getDate()),a=r(n.getMonth()+1),o=n.getFullYear();return[i,a,o].join(t)}var ie=function(e){var t=e;return function(){var e=["b-text","b-text_gray","b-random-group",(0,D.Z)()?"b-random-group_margin_b-size-s":"b-random-group_margin_r-size-s","b-flex","b-flex_align_left"].join(" ");t.innerHTML='\n        <div class="'.concat(e,'">\n            <div class="b-load-spinner b-load-spinner_size_m b-load-spinner_block-center"></div>\n            <div>Подготовка электронного чека...</div>\n        </div>\n        ')}},ae=function(e){var t=e;return function(e){var n=e.number,r=e.time;t.innerHTML='\n        <div class="paymentReceipt paymentReceipt_v2 paymentReceipt_fit_fieldsetBottom">\n        <div class="paymentReceipt__receipt">\n        ФД № '.concat(n,"<br />от ").concat(re(r),"\n        </div>\n        </div>\n        ")}},oe=function(e){var t=e;return function(e){var n=e.text;t.innerHTML='<div class="b-text b-text_red">'.concat(n,"</div>")}},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return function(e){var r=e.number,i=e.time;n.innerHTML='\n        <span class="'.concat(G()("b-text",{"b-text_gray":!t}),'">\n            Ваш чек: ФД № ').concat(r," от ").concat(re(i),"\n        </span>\n        ")}},se=3e5;function le(){return(le=(0,L.Z)(O().mark((function e(){var t,n,r,i,o,c,s,l,u,d,f;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)();case 2:if(t=document.querySelector("[data-payment-operation-receipt]")){e.next=5;break}return e.abrupt("return");case 5:if(n=t.dataset.paymentOperationReceipt){e.next=8;break}return e.abrupt("return");case 8:r=a[t.dataset.paymentOperationReceiptTheme]||a.voucher,i=r.getPreloaderRenderer,o=r.getReceiptRenderer,c=r.getErrorRenderer,t.innerHTML="<div></div>",s=t.firstElementChild,l={}.hasOwnProperty.call(t.dataset,"paymentOperationReceiptBlack"),u=i(s),d=o(s,l),f=c(s),ne(u,d,f,5e3,se)(n);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=n(32201),de=(0,n(58266).U)({name:"common",client:"./index.js",priority:1e5});n(99361),function(){var e,t,r;(0,p.Z)(),e=0,t=null,(r=function(){++e>5&&clearInterval(t);for(var n=document.querySelectorAll(".b-media-cont_type_banner:not(".concat(h,")>div:first-child")),r=0,i=n.length;r<i;r++){var a=n[r];if(a.classList.contains("tire")||a.innerHTML.length>0)a.parentElement.style.display="";else if(5===e){var o=a.parentElement;o.parentElement.removeChild(o)}}if(1===e)for(var c=document.querySelectorAll(m),s=0,l=c.length;s<l;s++){var u=c[s];if(!u.classList.contains("js-no-process")){var d=u.querySelector(".tireBoss"),f=d.id,v="",p="",_="",w="",k="",E="",L=null,S=null,O=null;u.classList.contains("b-media-cont_type_banner-text-mega")?(L=u.querySelector(".b-info-block__image>.b-image"),S=u.querySelector(".b-info-block__info>.b-info-block__title"),O=u.querySelector(".b-info-block__info>.b-info-block__header b")):(L=u.querySelector(".b-image, .b-media-cont__banner-image"),S=u.querySelector(".b-media-cont__banner-title .b-link, .b-info-block__title"),O=u.querySelector(".b-info-block__header b")),null!==L&&null!==S&&null!==O?(u.classList.contains(".b-media-cont_type_banner-text-mega")?(v=d.dataset.url,p=d.dataset.imageSrc,_=d.dataset.text,w=d.dataset.title,k=d.dataset.hash,E=d.dataset.hint):(v=d.querySelector("a").href,p=d.querySelector("a img").src,_=d.querySelector("p a, .b-info-block__title").textContent,w=d.querySelector(".b-info-block__header b").textContent,k=f,E=d.querySelector("a").title),u.href=v,u.target="_blank",u.hash=k,u.dataset.hash=k,u.title=E,L.src=p,S.textContent=_,O.textContent=w,d.innerHTML="",d.style.display="block",d.style.position="absolute",d.style.width="1px",d.style.height="1px",g(d),void 0!==v&&void 0!==p&&void 0!==_?(b(u),u.style.display=""):(u.parentElement.removeChild(u),y())):(u.parentElement.removeChild(u),y())}}})(),setTimeout((function(){t=setInterval(r,1e3)}),1e3),(0,s.Z)(),(0,v.Z)(),(0,_.Z)(),document.querySelectorAll(".b-tip").forEach((function(e){e.addEventListener("click",k),e.querySelectorAll(".b-tip__close, .b-tip__ico").forEach((function(e){e.addEventListener("click",w)}))})),function(){if(null!==document.querySelector(P))var e=new f.Z({type:"youtube",trigger:P,beforeOpen:function(){if(e.triggerEl){var t=e.triggerEl.dataset.imageHash||"";t.length>0&&j("#".concat(t))}},beforeClose:function(){return j(window.location.pathname)}})}(),function(){A.apply(this,arguments)}();var i=document.body.dataset,a=i.sectionAlias,o=i.pageAlias;("info"===a||"article"===o||"news_one"===o||"sales"===a&&"bull"===o||"pdd"===a&&"info_page"===o||"dvr_catalog"===a&&"search"===o||"shina_catalog"===a&&"search"===o||"polls"===a&&"view_result"===o||"catalog_new"===a&&["complectation","generations","compare"].indexOf(o)>-1||"reviews"===a&&["review_updates","update","update_by_tags","review"].indexOf(o)>-1)&&n.e(65880).then(n.bind(n,54784)).then((function(e){(0,e.default)()})).catch(console.error),function(){var e=document.querySelector("[data-nps-container]");if(e)try{var t=JSON.parse(e.dataset.npsContainer);Promise.all([n.e(45799),n.e(9470),n.e(12874)]).then(n.bind(n,52625)).then((function(n){(0,n.default)(t,e)})).catch(console.error)}catch(e){(0,B.Tb)(e)}}(),window.DromModal=f.Z,window.blobAsText=l.Z,window.isValidEmail=u.Z,window.setCookie=d.d8,window.getCookie=d.ej}(),new M(Q,X,ee),(0,c.K)(de).then((function(e){var t=e.gaStatsConfig,n=(0,D.Z)();if((0,q.Z)(t),window.globalGaStats={gaTrack:o.DU,vaTrack:o.vc},function(){var e=(0,D.Z)(),t=[];function n(e){var t=[];return e.forEach((function(e){var n=e.dataset.gaGroupViewEvent;n&&!t.includes(n)&&"widgetPremium1_5"!==n&&t.push(n)})),t}function r(n){n.forEach((function(n){t.includes(n)||((0,o.DU)({name:n,event:"view",section:e?"main_mobile":"main"}),t.push(n))}))}var i=document.querySelectorAll("[data-premium-container]"),a=!1;i.length&&(a="mainPage"in i[0].dataset),e?i.forEach((function(e){var t=e.querySelector("[data-premium-scroller]"),i=t.querySelectorAll("[data-premium-item]"),o=JSON.parse(e.dataset.premiumConfig).preloadLimit,c=Number(o),s=i[0].offsetWidth;t.onscroll=function(){if(t.scrollLeft+e.offsetWidth+50>=c*s){var o=c+20;o>=i.length&&(o=i.length,t.onscroll=!1);for(var l=c;l<o;l++){var u=i[l];if(u){var d=u.querySelector("img");d&&(d.src=d.getAttribute("data-src"),d.srcset="".concat(d.src," 1x, ").concat(d.getAttribute("data-src-retina")," 2x"))}}c=o}if(a){var f=[],v=new IntersectionObserver((function(e){e.forEach((function(e){var t=f.indexOf(e.target);e.intersectionRatio>0?t<0&&f.push(e.target):t>-1&&f.splice(t,1)})),r(n(f))}),{threshold:.5});i.forEach((function(e){v.observe(e)}))}}})):"function"==typeof $.fn.owlCarousel&&$("[data-premium-scroller-owl]").each((function(){var t=$(this);t.owlCarousel({margin:1,loop:t.children().length>=6,nav:!0,dots:!1,lazyLoad:!0,autoWidth:!0,navText:["",""],items:5}),a&&(t.find(".owl-prev, .owl-next").on("click",(function(){(0,o.DU)({name:"widgetPremiumNav",event:"click",section:e?"main_mobile":"main"})})),t.on("translated.owl.carousel",(function(e){r(n(e.target.querySelectorAll(".active a")))})))}))}(),function(){var e="b-popup_hidden";function t(t){document.querySelectorAll("[data-popup-outside-close]").forEach((function(n){n.contains(t.target)||n.classList.add(e)}))}document.querySelectorAll("[data-popup-open], [data-popup-close]").forEach((function(n){n.addEventListener("click",(function(n){n.stopPropagation(),function(n){var r=n.currentTarget.dataset.popupName,i=document.querySelector("[".concat(r,"]"));i&&("popupOutsideClose"in i.dataset&&(i.classList.contains(e)?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)),i.classList.toggle(e))}(n)}))}))}(),function(){le.apply(this,arguments)}(),function(){var e="main",t=$("html"),n=t.find(".owl-carousel_blogs"),r=t.hasClass(ue.nA),i=t.hasClass("drom-blogs-legacy");if(n.length&&!r||i){var a=t.find("[data-premium-container]"),c=!1;a.length&&(c="mainPage"in a[0].dataset);var s=Math.floor(8*Math.random());if(n.removeClass("bm-scroll").addClass("owl-carousel").owlCarousel({margin:0,loop:!0,nav:!0,dots:!0,lazyLoad:!0,navText:["",""],items:1,startPosition:s}),c){var l=!0,u=!0;n.find(".owl-prev, .owl-next").on("click",(function(){(0,o.DU)({section:e,name:"widgetBlogNavigaton",event:"click"}),l&&(l=!1,(0,o.DU)({section:e,name:"widgetBlogOtherAuto",event:"view"}))})),n.on("changed.owl.carousel",(function(e){u=e.page.index===s})),n.find("a").on("click",(function(){(0,o.DU)({section:e,name:u?"widgetBlogDefaltAuto":"widgetBlogOtherAuto",event:"click"})}))}}}(),new f.Z({type:"youtube",trigger:"[data-video]"}),!n){var r=document.querySelector('[data-zone-id="400"]');r&&new H.Z([r])}if(n)for(var i=document.querySelectorAll(".b-button-group_theme_tabs.bm-scroll"),a=0,c=i.length;a<c;a++){var s=i[a],l=s.querySelector(".b-button_active");l&&l.offsetLeft>s.outerWidth/2&&(s.scrollLeft=l.offsetLeft-20)}}))},32201:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},lw:function(){return i},nA:function(){return a},ar:function(){return o},Xf:function(){return c}});var r="drom-touch",i="drom-notouch",a="drom-mobile",o="data-app-root",c="data-app-placeholder"},58266:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(40205);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o={server:null,placeholder:null,chunks:!0,vital:!1,priority:0,dependOn:"default"};function c(e){return a(a({},o),e)}},64271:function(e,t,n){"use strict";var r=(0,n(75461).Z)();t.Z=function(){var e;return Boolean(r&&(null===(e=window.ApplePaySession)||void 0===e?void 0:e.canMakePayments()))}},74900:function(e,t,n){"use strict";var r=n(40205),i=n(59796),a=n(24678);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=(0,i.Z)(e);if(null==t)return Promise.resolve(!1);var n=c(c({},a.FZ),{},{allowedPaymentMethods:[a.$E]});return t.isReadyToPay(n).then((function(e){return e.result}))}},24678:function(e,t,n){"use strict";n.d(t,{FZ:function(){return r},$E:function(){return i},dA:function(){return a},xU:function(){return o},Q6:function(){return c}});var r={apiVersion:2,apiVersionMinor:0},i={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA","JCB"]}},a="https://auto.drom.ru/ajax/pay/?type=googlepay&action=process_payment",o="https://auto.drom.ru/mobile_commerce_restrictions.php",c="https://pay.google.com/gp/p/js/pay.js"},59796:function(e,t){"use strict";t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PRODUCTION";try{return new google.payments.api.PaymentsClient({environment:e})}catch(e){return null}}},59172:function(e,t){"use strict";t.Z=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){return t(n.result)},n.readAsText(e,"windows-1251")}))}},65106:function(e,t,n){"use strict";function r(e){var t=document.cookie.split(";").find((function(t){return t.indexOf("".concat(e,"="))>=0}));return t?t.slice(t.indexOf("=")+1,t.length):""}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n,a=i.expires;if("number"==typeof a&&a){var o=new Date;o.setTime(o.getTime()+1e3*a),a=o,i.expires=o}a&&a.toUTCString&&(i.expires=a.toUTCString());var c=r?encodeURIComponent(t):t,s="".concat(e,"=").concat(c);Object.keys(i).forEach((function(e){var t=i[e];s="".concat(s,"; ").concat(e),!0!==t&&(s="".concat(s,"=").concat(t))})),document.cookie=s}n.d(t,{ej:function(){return r},d8:function(){return i}})},60092:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r="Кажется, что-то пошло не так. Попробуйте перезагрузить страницу.";t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){e&&alert(e),t&&console.error(n)}}},4702:function(e,t,n){"use strict";t.ZP=function(e,t,n){var r=+new Date+t;return function(i,a){return new Promise((function o(c,s){fetch(i,a).then((function(e){return 200===e.status?e.json():s(new Error("Что-то пошло не так. Перезагрузите страницу или повторите попытку позже."))})).then((function(i){n(i)?c(i):0===t||+new Date<r?setTimeout(o,e,c,s):s(new Error("Время ожидания истекло. Попробуйте еще раз."))})).catch(s)}))}}},59500:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)};function i(e){return"function"==typeof e?r(e):new Promise((function(e){return r(e)}))}},77826:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(12783),i=n(72659),a=["src"];function o(e){var t={};"string"==typeof e?t.src=e:Object(e)===e&&(t=e);var n=t,o=n.src,c=(0,r.Z)(n,a),s=document.createElement("script");return s.type="text/javascript",s.src=null!=o?o:"",(0,i.Z)(c).forEach((function(e){return s.setAttribute(e,c[e])})),document.head.appendChild(s),new Promise((function(e,t){s.onload=function(){return e(s)},s.onerror=function(e){return t(e)}}))}},64555:function(e,t){"use strict";t.Z=function(e){return/^([a-z0-9_-]+\.)*[a-z0-9_-]+@([a-z0-9][a-z0-9-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(e)}},75461:function(e,t){"use strict";t.Z=function(){return"undefined"!=typeof window}},74963:function(e,t,n){"use strict";var r=n(32201),i=n(75461);t.Z=function(){return!!(0,i.Z)()&&document.documentElement.classList.contains(r.nA)}},2532:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(75461);function i(){return!!(0,r.Z)()&&("ontouchstart"in window||"DocumentTouch"in window&&document instanceof window.DocumentTouch)}},72659:function(e,t){"use strict";t.Z=Object.keys},24889:function(e,t){"use strict";t.Z=function(){}},12746:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(74765),i=n(3477);function a(){document.addEventListener("asyncViewdir.pageChanged",(function(){!function(e){"function"!=typeof e.writeclear&&(e.writeclear=function(){(0,r.$e)((function(e){e.setTag("writeclear","writeclear call"),e.setExtra("url",window.location.href),(0,r.uT)("writeclear call",i.z.Log)})),e.write.apply(e,arguments)},e.write=function(t){e.body?e.body.insertAdjacentHTML("beforeend",t):e.writeclear(t)})}(document);var e=document.querySelectorAll("[data-async-counter]");if(e.length)for(var t=0,n=e.length;t<n;t++){var a=e[t].innerHTML;e[t].textContent="",e[t].innerHTML=a}}))}},36258:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2532),i=n(32201);function a(){var e=document.documentElement.classList;e.remove(i.lw),e.add((0,r.Z)()?i.$S:i.lw),document.addEventListener("touchstart",(function(){}),!1),document.addEventListener("DOMContentLoaded",(function(){return document.body.setAttribute("ontouchstart","")}))}},31172:function(e,t,n){"use strict";var r=n(40205),i=n(65106),a=n(77826),o=n(24678),c=n(74900),s=n(64271);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=[{key:"apple-pay-available",check:function(){return Promise.resolve((0,s.Z)())}},{key:"google-pay-available",check:function(){return(0,a.Z)(o.Q6).then((function(){return(0,c.Z)("TEST")}))}}],f=function(e,t,n){(0,i.d8)(e,t,{expires:31536e3,domain:n,path:"/"})},v=function(){var e=window.location.hostname.split("."),t=e.length,n=".".concat(e[t-2],".").concat(e[t-1]);d.map((function(e){return u(u({},e),{},{value:(0,i.ej)(e.key)})})).filter((function(e){return 0===e.value.length})).forEach((function(e){var t=e.key;return(0,e.check)().then((function(e){return f(t,Number(e),n)})).catch((function(){return f(t,0,n)}))}))};t.Z=function(){/\/comments\/webview/g.test(window.location)||setTimeout((function(){window.requestIdleCallback?window.requestIdleCallback(v):v()}),5e3)}},69154:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(54210),i=n(75295),a=n.n(i),o=n(59500),c="dromModuleData",s="data-drom-module";function l(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)();case 2:return e.abrupt("return",new Promise((function(e,n){var r=null,i="[".concat(s,'="').concat(t.name,'"]'),a=document.querySelector(i);if(a){if(a.dataset&&a.dataset[c])try{r=JSON.parse(a.dataset[c])}catch(e){return void n(e)}e(r)}else n(new Error("No matches for ".concat(i)))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},11926:function(e,t,n){"use strict";n.d(t,{XH:function(){return a},Em:function(){return o},A6:function(){return s}});var r=n(47156),i=n(69432),a=function(e){return(0,r.Z)(e).subtractLightness(6).toString()},o=function(e){return(0,r.Z)(e).setLightness(85).toString()},c=function(e){return(0,r.Z)(e).setLightness(15).toString()},s={buttonTextDisabled:{light:i.d.white,dark:i.d.whiteAlpha20},blackButtonBg:{light:i.d.black,dark:i.d.white},blackButtonHover:{light:"hsl(0, 0%, 20%)",dark:"hsla(0, 0%, 80%)"},blackButtonDisabled:{light:"hsl(0, 0%, 85%)",dark:"hsl(0, 0%, 18%)"},blackButtonTextDisabled:{light:i.d.white,dark:i.d.blackAlpha40},redButtonBg:{light:i.d.redBrandDark,dark:i.d.redBrandLight},redButtonHover:{light:a(i.d.redBrandDark),dark:a(i.d.redBrandLight)},redButtonDisabled:{light:o(i.d.redBrandDark),dark:c(i.d.redBrandLight)},blueButtonBg:{light:i.d.blueDark,dark:i.d.blueLight},blueButtonHover:{light:a(i.d.blueDark),dark:a(i.d.blueLight)},blueButtonDisabled:{light:o(i.d.blueDark),dark:c(i.d.blueLight)},greenButtonBg:{light:i.d.greenDark,dark:i.d.greenLight},greenButtonHover:{light:a(i.d.greenDark),dark:a(i.d.greenLight)},greenButtonDisabled:{light:o(i.d.greenDark),dark:c(i.d.greenLight)},lightBlueButtonBg:{light:i.d.blueButtonLight,dark:i.d.blueButtonDark},lightBlueButtonHover:{light:a(i.d.blueButtonLight),dark:(0,r.Z)(i.d.blueButtonDark).setLightness(15).toString()},lightBlueButtonDisabled:{light:(0,r.Z)(i.d.blueDark).setLightness(95).toString(),dark:(0,r.Z)(i.d.blueButtonDark).setLightness(10).toString()},buttonBlueText:{light:i.d.blueDark,dark:i.d.blueLight},buttonBlueTextDisabled:{light:(0,r.Z)(i.d.blueDark).setLightness(75).toString(),dark:(0,r.Z)(i.d.blueLight).setLightness(22).toString()},grayButtonBg:{light:i.d.gray4,dark:i.d.dark1},grayButtonHover:{light:a(i.d.gray4),dark:(0,r.Z)(i.d.dark1).subtractLightness(2).toString()},grayButtonDisabled:{light:(0,r.Z)(i.d.gray4).setLightness(97).toString(),dark:(0,r.Z)(i.d.dark1).subtractLightness(3).toString()},purpleButtonBg:{light:i.d.violet,dark:i.d.purple},purpleButtonHover:{light:a(i.d.violet),dark:a(i.d.purple)},purpleButtonDisabled:{light:o(i.d.violet),dark:c(i.d.purple)}}},41341:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(14269);function i(e){null!==e&&new r.ZP(e)}},24225:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(18033);function i(){var e=(0,r.zo)();if(e){document.querySelectorAll(r.Vy).forEach((function(t){if("PICTURE"===t.tagName){var n=t.querySelector("img");n&&0===n.height&&0===n.width&&(n.style.minHeight="1px")}e.observe(t),delete t.dataset.lazy}));var t=window.MutationObserver||window.WebkitMutationObserver;void 0!==t&&new t((function(t){for(var n=0,i=t.length;n<i;n++){var a=t[n];if("childList"===a.type)for(var o=0,c=a.addedNodes.length;o<c;o++){var s=a.addedNodes[o];if(s.nodeType===Node.ELEMENT_NODE)if("IMG"!==s.tagName&&"PICTURE"!==s.tagName||void 0===s.dataset.lazy)for(var l=s.querySelectorAll(r.Vy),u=0,d=l.length;u<d;u++){var f=l[u];e.observe(f)}else e.observe(s),delete s.dataset.lazy}}})).observe(document.body,{attributes:!1,childList:!0,subtree:!0})}}},18033:function(e,t,n){"use strict";n.d(t,{On:function(){return c},Vy:function(){return s},zo:function(){return l}});var r=n(74963),i=n(75461),a=n(24889),o=function(e,t){var n=e.dataset,r=n.src,i=n.srcset,a=n.onloadRemoveParentClassname;if(void 0!==r&&(e.src=r,t(e,r,i)),void 0!==i&&(e.srcset=i),a){var o=function(){a.split(" ").forEach((function(t){var n,r,i,a;null===(n=e.parentElement)||void 0===n||n.classList.remove(t),"PICTURE"===(null===(r=e.parentElement)||void 0===r?void 0:r.tagName)&&(null===(i=e.parentElement)||void 0===i||null===(a=i.parentElement)||void 0===a||a.classList.remove(t))}))};e.complete?o():e.onload=o}},c="data-lazy",s="[".concat(c,"]"),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Z;if(!(0,i.Z)()||!("IntersectionObserver"in window))return null;var t={rootMargin:(0,r.Z)()?"0px":"50%",threshold:[0,.1]};return new IntersectionObserver((function(t,n){for(var r=0,i=t.length;r<i;r++){var a,c=t[r],s=c.isIntersecting,l=c.intersectionRatio,u=c.target;if(void 0!==s?s:l>0)if(n.unobserve(u),"PICTURE"===u.tagName)for(var d=0;d<u.children.length;d++)o(u.children[d],e);else if("IMG"===u.tagName&&"PICTURE"===(null===(a=u.parentElement)||void 0===a?void 0:a.tagName))for(var f=0;f<u.parentElement.children.length;f++)o(u.parentElement.children[f],e);else"IMG"===u.tagName&&o(u,e)}}),t)}},26739:function(e,t,n){"use strict";var r=n(4192),i=n(66691),a=n(40205),o=n(32201);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=function(){function e(t){(0,r.Z)(this,e),(0,a.Z)(this,"_scrollTop",0),(0,a.Z)(this,"_iOSFix",!1),(0,a.Z)(this,"_classList",{htmlActive:"js-modal-active",htmlActiveIOSFix:"js-modal-active_iOSFix",modalActive:"b-modal_active",modalLoading:"b-modal_loading",modalOutsidePos:"b-modal__close_position_outside",mobileSlide:"b-modal_mobile-slide"}),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"markup",html:"",src:"",className:"",trigger:!1,close:!1,closeOutside:"youtube"===t.type,openOnInit:!1,removeOnClose:!0,mobileSlide:!1,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},afterInit:function(){}},t),this._init()}return(0,i.Z)(e,[{key:"open",value:function(t){var n=this;if(t){var r=t.href;this._isVideo()&&e._isCompatibleVideoUrl(r)&&(this.tpl.content.querySelector("[data-iframe]").src=r),this.triggerEl=t}this._scrollTop=document.body.scrollTop||document.documentElement.scrollTop,this.options.beforeOpen.call(this),this.html.classList.add(this._classList.htmlActive),this._iOSFix&&this.html.classList.add(this._classList.htmlActiveIOSFix),this.body.appendChild(this.tpl.root),this.tpl.root.classList.add(this._classList.modalActive),document.documentElement.classList.contains(o.nA)&&setTimeout((function(){n.tpl.content.parentElement.style.transform="translateY(0)"}),50),this.options.afterOpen.call(this)}},{key:"loading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.tpl.root.classList.add(this._classList.modalLoading):this.tpl.root.classList.remove(this._classList.modalLoading)}},{key:"close",value:function(){var e;this.options.beforeClose.call(this),this.tpl.root.classList.remove(this._classList.modalActive),this.options.removeOnClose&&this.tpl.root.parentElement.removeChild(this.tpl.root),this.html.classList.remove(this._classList.htmlActive),this._iOSFix&&this.html.classList.remove(this._classList.htmlActiveIOSFix),this.options.afterClose.call(this),this._iOSFix&&(e=this._scrollTop,document.body.scrollTop=e,document.documentElement.scrollTop=e)}},{key:"closeWithSlide",value:function(){var e=this;this.tpl.content.parentElement.style.transform="translateY(100%)",setTimeout((function(){e.options.beforeClose.call(e),e.tpl.root.classList.remove(e._classList.modalActive),e.options.removeOnClose&&e.tpl.root.remove(),e.html.classList.remove(e._classList.htmlActive),e._iOSFix&&e.html.classList.remove(e._classList.htmlActiveIOSFix),e.options.afterClose.call(e),e._iOSFix&&window.scroll(0,e._scrollTop)}),450)}},{key:"_init",value:function(){var e=this.options,t=function(){if(e=navigator.userAgent||navigator.vendor||window.opera,!/iPad|iPhone|iPod/.test(e)||window.MSStream)return!1;var e,t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=null;return null!=t&&(n=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)],parseFloat(n.join(".")))}();switch(this._iOSFix=t&&t<11,this._initTpl(),e.type){case"youtube":this._initIframe();break;case"markup":var n=e.html;if("string"==typeof n){var r=document.createElement("div");r.classList.add("b-modal__markup"),r.innerHTML=n,n=r}this.tpl.content.appendChild(n);break;default:console.warn("Unknown content type: ".concat(e.type))}this._attachEvents(),this.options.afterInit.call(this),this.options.openOnInit&&this.open()}},{key:"_attachEvents",value:function(){this.options.trigger&&(document.removeEventListener("click",this._triggerClick.bind(this)),document.addEventListener("click",this._triggerClick.bind(this)));var e=this.tpl.root.querySelector("[data-wrapper]");e.removeEventListener("mousedown",this._overlayClick.bind(this)),e.addEventListener("mousedown",this._overlayClick.bind(this)),e.removeEventListener("touchstart",this._overlayClick.bind(this)),e.addEventListener("touchstart",this._overlayClick.bind(this));var t=this.options.mobileSlide&&document.documentElement.classList.contains(o.nA)?this.closeWithSlide:this.close;if(this.tpl.close.removeEventListener("click",t.bind(this)),this.tpl.close.addEventListener("click",t.bind(this)),this.options.close){var n=this.tpl.root.querySelector(this.options.close);n&&(n.removeEventListener("click",this.close.bind(this)),n.addEventListener("click",this.close.bind(this)))}}},{key:"_triggerClick",value:function(e){for(var t=e.target;t&&("function"!=typeof t.matches||!t.matches(this.options.trigger));)t=t.parentElement;t&&(e.preventDefault(),this.open(t))}},{key:"_overlayClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"_initTpl",value:function(){var e={root:null,content:null,close:null},t=document.querySelector("[data-drom-modal]");if(this.html=document.documentElement,this.body=document.body,t)e.root=t.cloneNode().removeAttribute("data-drom-modal");else{var n=document.createElement("div");this.options.className&&(n.className=this.options.className),this.options.mobileSlide&&n.classList.add(this._classList.mobileSlide),n.classList.add("b-modal"),n.innerHTML='<div class="b-modal__overlay"></div><div class="b-modal__wrapper" data-wrapper><div class="b-modal__content" data-content><div class="b-modal__close" data-close></div></div></div>',e.root=n}e.content=e.root.querySelector("[data-content]"),e.close=e.root.querySelector("[data-close]"),this.options.closeOutside&&e.close.classList.add(this._classList.modalOutsidePos),this.tpl=e}},{key:"_initIframe",value:function(){this.tpl.content.insertAdjacentHTML("beforeend",'<div class="b-modal__iframe-scaler"><iframe data-iframe src="" class="b-modal__iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen mozallowfullscreen allowfullscreen scrolling="auto" allow="autoplay"></iframe></div>')}},{key:"_isVideo",value:function(){return"video"===this.options.type||"youtube"===this.options.type}}],[{key:"_isCompatibleVideoUrl",value:function(e){return/youtube\.com\/|youtu\.be\//gi.test(e)||/rutube\.ru\//i.test(e)||/vimeo\.com\//i.test(e)}}]),e}();t.Z=s},15145:function(e,t,n){"use strict";var r=n(60463),i=n(4192),a=n(66691),o=n(32201),c=n(83925),s=function(){function e(t){var n=this;(0,i.Z)(this,e);var r=document.documentElement,a=window.MutationObserver||window.WebkitMutationObserver;r.classList.contains(o.$S)&&!r.classList.contains(o.nA)||void 0===a||(this.itemsRaw=t,this.items=[],this.height=0,this.visible=!1,this.container=t[0].parentElement,this.botBanner=document.getElementById("candy_footer_spread"),this.observer=new a(this.observerCallback.bind(this)),this.itemsRaw.forEach((function(e){if(e.clientWidth||e.clientHeight){var t={item:e,id:e.dataset.zoneId,visibility:"hidden"};n.visible||(t.visibility="visible",n.visible=!0,n.height=e.clientHeight),n.items.push(t)}else n.observer.observe(e,{attributes:!1,childList:!0,subtree:!1})})),this.footer=document.querySelector("[data-footer]"),this.avoidedElements=document.querySelectorAll("[data-sticky-avoid]"),this.init())}return(0,a.Z)(e,[{key:"observerCallback",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].target;if((r.clientWidth||r.clientHeight)&&r.dataset.zoneId){var i={item:r,id:r.dataset.zoneId,visibility:"hidden"};this.visible||(i.visibility="visible",this.visible=!0,this.height=r.clientHeight),this.items.push(i),this.observer.disconnect()}}}},{key:"isBannerAvoidedBy",value:function(e){var t=this;return!e.every((function(e){return e&&e.getBoundingClientRect().top>=t.height+40}))}},{key:"scrollHandler",value:function(){if(this.items.length){var e=this.container.getBoundingClientRect();e.top+e.height<=0&&(!this.botBanner||!this.botBanner.clientHeight||!this.botBanner.clientWidth||this.botBanner.getBoundingClientRect().top>this.height+20)&&!this.isBannerAvoidedBy([this.footer].concat((0,r.Z)(this.avoidedElements)))?(this.container.style.paddingTop="".concat(this.height+20,"px"),this.items.forEach((function(t){t.item.style.position="fixed",t.item.style.top="20px",t.item.style.left="".concat(e.left,"px"),t.item.style.width="".concat(e.width,"px"),t.item.style.zIndex="10",t.item.style.visibility=t.visibility,t.item.style.opacity="hidden"===t.visibility?"0":"1",t.item.style.transition="opacity 0.3s ease-out",t.item.style.width=e.width,t.item.style.boxSizing="border-box",t.item.style.background=c.O9.backgroundPage}))):(this.items.forEach((function(t){t.item.style.position="relative",t.item.style.top="0",t.item.style.left="0",t.item.style.zIndex="10",t.item.style.visibility="visible",t.item.style.opacity="1",t.item.style.transition="opacity 0.3s ease-out",t.item.style.width=e.width,t.item.style.boxSizing="border-box",t.item.style.background=c.O9.backgroundPage})),this.container.style.paddingTop="0")}}},{key:"changePageHandler",value:function(){var e=0;this.items.forEach((function(t,n){"visible"===t.visibility&&(e=n+1,t.visibility="hidden")})),e===this.items.length&&(e=0);var t=this.items[e];t&&(t.visibility="visible",this.height=t.item.clientHeight,t.id&&"function"==typeof nextCandy&&nextCandy(t.id))}},{key:"init",value:function(){window.addEventListener("scroll",this.scrollHandler.bind(this)),window.addEventListener("resize",this.scrollHandler.bind(this)),window.addEventListener("changepage",this.changePageHandler.bind(this))}}]),e}();t.Z=s},99361:function(e,t,n){"use strict";n.r(t)},75295:function(e,t,n){e.exports=n(69210)},3477:function(e,t,n){"use strict";var r;n.d(t,{z:function(){return r}}),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(r||(r={}))},95696:function(e,t){var n;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var c in n)r.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},40956:function(e,t,n){"use strict";e.exports=n(37665)},76687:function(e,t,n){"use strict";e.exports=n(48242)},26348:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},12783:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46095);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},46095:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},60463:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(13578),i=n(26348),a=n(19055);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[48659,83096,6660,60008,23298,41481],(function(){return t(15872),t(62301)})),e.O()}]);