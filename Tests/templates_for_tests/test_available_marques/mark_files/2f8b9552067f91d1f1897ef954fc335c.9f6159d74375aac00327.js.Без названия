"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[23298],{14269:function(t,n,e){e.d(n,{DU:function(){return C},U1:function(){return S},vc:function(){return I},kf:function(){return T}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function o(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var i,a,c=function(){return(c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};!function(t){t.SECTION="section",t.NAME="name",t.COUNTER="counter",t.PAYLOAD="payload",t.VALUE="value",t.NON_INTERACTION="nonInteraction"}(i||(i={})),function(t){t.GA="ga",t.VA="va",t.SA="sa",t.YA="ya"}(a||(a={}));var u=Object.values(a),s=function(t){function n(n,e){var r=t.call(this,n)||this;return r.attributes=e,r}return o(n,t),n}(Error);function f(t,n,e,r,o){void 0===o&&(o="");var i=e.prefix,a=""+i+r+"-"+n,c=i+n;return t.getAttribute(a)||t.getAttribute(c)||o||""}var l,d=function(){function t(){this.engine=a.GA}return t.prototype.track=function(n){var e=this;return new Promise((function(r,o){e.isInitialized(n)||o(new s("Could not track: Ga tracker not initialized",n));var i=t.toAttributes(n),a=t.toSendCommand(n);try{(0,window.ga)(a,c(c({},i),{hitCallback:function(){r({message:'ga("'+a+'", '+JSON.stringify(i)+")",attributes:i})}}))}catch(t){o(new s("Could not track. "+t,i))}finally{n.callback&&n.callback()}}))},t.prototype.isInitialized=function(t){return"function"==typeof window.ga},t.toAttributes=function(t){var n=t.section,e=t.event,r=t.name,o=t.value,i={hitType:"event",eventCategory:n,eventAction:e,eventLabel:r,nonInteraction:t.nonInteraction,transport:"beacon"},a=parseInt(o,10);return a&&(i.eventValue=a),i},t.toSendCommand=function(t){return(t.counter?t.counter+".":"")+"send"},t}(),v=function(){function t(){this.engine=a.SA}return t.prototype.track=function(t){var n=this;return new Promise((function(e,r){var o=n.toAttributes(t),i=o.url,a=o.payload;i||r(new s("Could not track. No url provided",o));var c,u=i;a&&(u+="?"+(c=a,Object.keys(c).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(c[t]||"")})).join("&")));var f={message:'GET: "'+u+'"',attributes:o},l=function(n){r(new s("Could not track. "+n,o)),t.callback&&t.callback()};try{fetch(u,{credentials:"include",mode:"no-cors",keepalive:t.keepalive}).then((function(){e(f),t.callback&&t.callback()}),l)}catch(t){l(t)}}))},t.prototype.isInitialized=function(t){return!0},t.prototype.toAttributes=function(t){var n=t.counter,e=t.payload,r={url:n};return e&&(r.payload=e),r},t}(),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.engine=a.VA,n}return o(n,t),n.prototype.toAttributes=function(n){var e=t.prototype.toAttributes.call(this,n),r=n.section,o=n.event,i=n.name,a=n.sa,u=n.pa,s=n.viewType;return e.payload=c({section:r,event:o,who:i,sa:a,pa:u,viewType:s},e.payload||{}),e},n}(v),h=function(){function t(){this.engine=a.YA}return t.prototype.track=function(n){var e=this;return new Promise((function(r,o){var i=t.toAttributes(n),a=i.counter,c=i.target;a||o(new s("Could not track. No counter provided",i)),c||o(new s("Could not track. No target provided",i));var u="yaCounter"+a;e.isInitialized(n)||o(new s("Could not track: Counter "+u+" not initialized",i));try{window[u].reachGoal(c,{},(function(){return r({message:u+'.reachGoal("'+c+'")',attributes:i})}))}catch(t){o(new s("Could not track. "+t,i))}finally{n.callback&&n.callback()}}))},t.prototype.isInitialized=function(t){var n="yaCounter"+t.counter;return"object"==typeof window[n]&&"function"==typeof window[n].reachGoal},t.toAttributes=function(t){return{counter:t.counter,target:t.name}},t}(),y=((l={})[a.GA]=d,l[a.VA]=p,l[a.YA]=h,l[a.SA]=v,l),w=function(){function t(t){this.defaults=t}return t.prototype.toTracker=function(t){var n,e,r,i,a=y[t];if(!a)throw new Error("tracker implementation not found");return n="no_"+t,((e=window.document.cookie.split(";").find((function(t){return t.indexOf(n+"=")>=0})))&&e.slice(e.indexOf("=")+1,e.length)||"dev"===this.defaults.env)&&(a=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.isFake=!0,n}return o(n,t),n.prototype.track=function(t){var n=this;return new Promise((function(e,r){n.isInitialized(t)?e({message:"Success",attributes:t}):r(new s("Could not track.",t))}))},n}(a)),a=(void 0===r&&(r=300),void 0===i&&(i=5),function(t){return function(t){function n(n){var e=t.call(this,n)||this;return e.interval=r,e.attemptsCount=i,e}return o(n,t),n.prototype.track=function(t){var n=this;return new Promise((function(e,r){return n.checkAvailability(t,e,r,n.attemptsCount)}))},n.prototype.checkAvailability=function(n,e,r,o){var i=this;o>0&&!this.isInitialized(n)?setTimeout((function(){i.checkAvailability(n,e,r,o-1)}),this.interval):t.prototype.track.call(this,n).then(e,r)},n}(t)})(a),this.defaults.debug&&(a=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.isLogger=!0,n}return o(n,t),n.prototype.track=function(n){var e=this;return new Promise((function(r,o){var i="["+e.engine.toUpperCase()+"_STATS]";t.prototype.track.call(e,n).then((function(t){var n=t.message,e=t.attributes;window.console.log(i+" "+n+" Attributes: "+JSON.stringify(e)),r(t)}),(function(t){var n=t.message,e=t.attributes;window.console.warn(i+" "+n+" Attributes: "+JSON.stringify(e)),o(t)}))}))},n}(a)),new a(t)},t}(),A={prefix:"data-ga-stats-",debug:!1,env:"prod",section:"common",dummy_url:"//www.drom.ru/dummy.txt",engine:[a.GA]},m={ready:"track-ready",view:"track-view",click:"track-click"},b=!function(){if("undefined"==typeof window)return!1;var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,n)}catch(t){return!1}return t}()||{capture:!0,passive:!0},k=function(){return window.statsScopeStack||(window.statsScopeStack=[]),window.statsScopeStack},g=function(){var t=k();if(!t.length)throw new s("GaStatsConfig Scope not initialized");return t[t.length-1]},O=function(t){var n=k(),e=c(c({},A),t),r={config:e,trackerFactory:new w(e)};return n.push(r),r},E=function(t,n){O(n);try{return t()}catch(t){return Promise.reject(new s("Could not track with scope",n))}finally{k().pop()}},N=function(t,n){var e=c({},t),r=g().config,o=r.section,u=r.dummy_url,s=r.sectionAlias,f=void 0===s?"":s,l=r.pageAlias,d=void 0===l?"":l,v=r.viewType,p=void 0===v?"":v;return!t[i.COUNTER]&&[a.SA,a.VA].indexOf(n)>-1&&(e[i.COUNTER]=u),n===a.VA&&(e.sa=f,e.pa=d,e.viewType=p),t[i.SECTION]||(e[i.SECTION]=o),!t[i.NON_INTERACTION]&&a.GA===n&&["view","ready"].indexOf(t.event)>=0&&(e[i.NON_INTERACTION]=!0),e},C=function(t,n){if(n)return E((function(){return C(t)}),n);try{return g().trackerFactory.toTracker(a.GA).track(N(t,a.GA))}catch(t){return new Promise((function(n,e){return e(t)}))}},T=function(t,n){if(n)return E((function(){return T(t)}),n);try{return g().trackerFactory.toTracker(a.YA).track(N(t,a.YA))}catch(t){return new Promise((function(n,e){return e(t)}))}},S=function(t,n){if(n)return E((function(){return S(t)}),n);try{return g().trackerFactory.toTracker(a.SA).track(N(t,a.SA))}catch(t){return new Promise((function(n,e){return e(t)}))}},I=function(t,n){if(n)return E((function(){return I(t)}),n);try{return g().trackerFactory.toTracker(a.VA).track(N(t,a.VA))}catch(t){return new Promise((function(n,e){return e(t)}))}},_=function(t,n,e){var r;void 0===e&&(e=!1);var o=g().config,c=o.prefix,s=[];t.hasAttribute(""+c+m[n])&&(s=t.hasAttribute(c+"engine")?t.getAttribute(c+"engine").split("|"):o.engine);var l=new RegExp(c+"("+u.join("|")+")-"+m[n]);Array.prototype.forEach.call(t.attributes,(function(t){var n=t.name.match(l),e=n?n[1]:null;e&&s.indexOf(e)<0&&s.push(e)}));var d=((r={})[a.GA]=C,r[a.VA]=I,r[a.YA]=T,r[a.SA]=S,r);s.filter((function(t){return void 0!==d[t]})).map((function(r){return d[r](function(t,n,e,r){var o;void 0===r&&(r=!1);var c=g().config,u=f(t,m[e],c,n,e),s=((o={event:"true"===u?e:u})[i.SECTION]=f(t,i.SECTION,c,n),o[i.NAME]=f(t,i.NAME,c,n),o[i.COUNTER]=f(t,i.COUNTER,c,n),o.keepalive=r,o);if(n===a.GA){s[i.VALUE]=f(t,i.VALUE,c,n);var l=f(t,i.NON_INTERACTION,c,n);("true"===l||!l&&["view","ready"].indexOf(e)>=0)&&(s[i.NON_INTERACTION]=!0)}if(n===a.VA||n===a.SA){var d=f(t,i.PAYLOAD,c,n);d&&(s.payload=JSON.parse(d))}return s}(t,r,n,e)).then((function(t){return t}),(function(t){return console.warn(t.message,t.attributes),t}))}))},L=function(t){var n=t.currentTarget;if(window.TouchEvent&&t instanceof TouchEvent&&"touchstart"===t.type&&t.targetTouches.length>0)n.removeEventListener("touchend",L,b),n.addEventListener("touchend",L,b);else{if(window.TouchEvent&&t instanceof TouchEvent&&"touchend"===t.type&&(n.removeEventListener("touchend",L,b),0===t.targetTouches.length))return;var e=g().config.prefix;n.hasAttribute(e+"infinity-tracking")||(n.removeEventListener("mousedown",L,b),n.removeEventListener("touchstart",L,b)),_(n,"click",!0)}},P=function(t,n){t.forEach((function(t){var e=t.isIntersecting,r=t.target,o=t.intersectionRatio;("undefined"!==e?e:o>0)&&(_(r,"view"),n.unobserve(r))}))},G=function(t){var n=g().config.prefix,e=u.map((function(e){return"["+n+e+"-"+m[t]+"]"}));return e.push("["+n+m[t]+"]"),e.join(", ")},U=function(t){if(t instanceof Element&&(t.matches(G("ready"))&&_(t,"ready"),void 0!==window.intObserver&&t.matches(G("view"))&&window.intObserver.observe(t),t.matches(G("click"))&&(t.addEventListener("mousedown",L,b),t.addEventListener("touchstart",L,b)),t.children&&t.children.length))for(var n=0,e=t.children.length;n<e;n++)U(t.children[n])},R=function(t){t.forEach((function(t){var n=t.type,e=t.target,r=t.addedNodes;"attributes"===n&&U(e),"childList"===n&&r&&Array.prototype.forEach.call(r,(function(t){U(t)}))}))};n.ZP=13666==e.j?function(t){O(t),void 0!==IntersectionObserver&&(window.intObserver=new IntersectionObserver(P,{threshold:[0,.1]}));var n,e=window.MutationObserver||window.WebkitMutationObserver;e&&(window.mutObserver=new e(R)),n=function(){if(void 0!==window.mutObserver){var t=["ready","view","click"].reduce((function(t,n){return function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(t,G(n).split(", ").map((function(t){return t.replace(/[[\]]/gi,"")})))}),[]);window.mutObserver.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:t,childList:!0})}Array.prototype.forEach.call(document.querySelectorAll(G("ready")),(function(t){_(t,"ready")})),void 0!==window.intObserver&&Array.prototype.forEach.call(document.querySelectorAll(G("view")),(function(t){window.intObserver.observe(t)})),Array.prototype.forEach.call(document.querySelectorAll(G("click")),(function(t){t.addEventListener("mousedown",L,b),t.addEventListener("touchstart",L,b)}))},"interactive"===document.readyState||"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",(function(){return n()}))}:null}}]);